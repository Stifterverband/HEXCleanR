% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/check_distinct_level_change_df.r
\name{check_distinct_level_change_df}
\alias{check_distinct_level_change_df}
\title{Prüft Distinct-Werte-Änderungen für alle Variablen eines Datensatzes}
\usage{
check_distinct_level_change_df(
  data,
  group_col,
  threshold_low = 0.7,
  threshold_high = 1.5,
  min_distinct = 5
)
}
\arguments{
\item{data}{Ein \code{data.frame} oder \code{tibble} mit den zu prüfenden Daten.}

\item{group_col}{Ungequoteter Spaltenname; Gruppierungsvariable (z. B. \code{semester}).
Die Funktion verwendet \code{rlang::ensym()} zur Auswertung.}

\item{threshold_low}{Numerischer unterer Schwellenwert für die Prüfung (z. B. 0.70).}

\item{threshold_high}{Numerischer oberer Schwellenwert für die Prüfung (z. B. 1.50).}

\item{min_distinct}{Ganzzahliger Minimalwert für den Median der Anzahl unterschiedlicher
Werte, unterhalb dessen eine Variable nicht geprüft wird (Standard: 5).}
}
\value{
Ein \code{tibble} mit den markierten Abweichungen. Die Ausgabe enthält
mindestens die Spalten:
\itemize{
\item \code{status}: Textueller Status (\verb{negativ abweichend}, \verb{positiv abweichend}, \code{NORMAL})
\item \code{variable}: Name der geprüften Variable
\item \code{semester}: Wert der Gruppierungsvariable (Originalname in der Ausgabe \code{semester})
\item \code{unique_found}: Gefundene Anzahl eindeutiger Werte in der Gruppe
\item \code{unique_med}: Median der eindeutigen Werte über alle Gruppen
\item \code{faktor}: Verhältnis \code{unique_found / unique_med} (gerundet)
}

Wenn keine Auffälligkeiten gefunden werden, gibt die Funktion ein leeres
\code{tibble} (invisibly) zurück und schreibt eine Erfolgsmeldung.
}
\description{
Diese Hilfsfunktion ruft intern für jede Nicht-Gruppierungsvariable
\code{check_distinct_level_change()} auf und fasst die Ergebnisse zu einem
gemeinsamen \code{tibble} zusammen. Standardmäßig werden nur die Einträge
zurückgegeben, die als auffällig markiert (\code{flagged == TRUE}) sind.
}
\details{
Für jede Spalte in \code{data}, die nicht der \code{group_col} entspricht,
wird die Anzahl unterschiedlicher Werte pro Gruppe berechnet. Als Referenz
dient der Median der Anzahl unterschiedlicher Werte über alle Gruppen.
Liegt die relative Abweichung vom Median außerhalb der Intervalle
\code{threshold_low} .. \code{threshold_high}, wird dieser Fall als auffällig
markiert.
}
\seealso{
\link{check_distinct_level_change}
}
